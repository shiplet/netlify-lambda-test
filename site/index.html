<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Netlify Lambda Test</title>
</head>
<body>

    <h1>Hello, is anyone out there?</h1>
    <h2 id="greeting"></h2>
    <h2 id="farewell"></h2>

    <script>
        var greeting = document.getElementById('greeting')
        var farewell = document.getElementById('farewell')

        init()

        function init() {
            getHello().then(() => {
                getGoodbye()
            })
        }

        function getHello() {
            return fetch(`https://netlify-lambda-test.michaelshiplet.com/.netlify/functions/hello`)
                .then(res => res.text())
                .then(body => greeting.innerText = body)
        }

        function getGoodbye() {
            return fetch(`https://netlify-lambda-test.michaelshiplet.com/.netlify/functions/goodbye`)
                .then(res => res.text())
                .then(body => farewell.innerText = body)
        }

    </script>
</body>
</html>